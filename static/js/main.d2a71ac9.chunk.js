(this["webpackJsonptuck-norris"]=this["webpackJsonptuck-norris"]||[]).push([[0],{71:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"CategoriesReducer",(function(){return g})),t.d(r,"JokesReducer",(function(){return h})),t.d(r,"LikesReducer",(function(){return p})),t.d(r,"SettingsReducer",(function(){return x}));var c=t(0),a=t.n(c),i=t(37),o=t.n(i),s=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,72)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),a(e),i(e)}))},u=t(16),l=t(5),d=Object(c.createContext)(),j=t(15),b=t(3),g=function(e,n){var t=n.action,r=n.payload;switch(t){case"categories_get":return Object(b.a)(Object(b.a)({},e),{},{categories:Object(b.a)(Object(b.a)({},e.categories),{},{isFetching:!0,isFetched:!1})});case"categories_set":return Object(b.a)(Object(b.a)({},e),{},{categories:{list:r,isFetching:!1,isFetched:!0}});default:case void 0:return e}};g.key="categories",g.initialState={list:[],isFetching:!1,isFetched:!1};var h=function(e,n){var t=n.action,r=n.payload;switch(t){case"joke_get":return Object(b.a)(Object(b.a)({},e),{},{joke:Object(b.a)(Object(b.a)({},e.joke),{},{isFetching:!0,data:null})});case"joke_set":return Object(b.a)(Object(b.a)({},e),{},{joke:Object(b.a)(Object(b.a)({},e.joke),{},{isFetching:!1,data:r})});case"joke_clear":return Object(b.a)(Object(b.a)({},e),{},{joke:Object(b.a)(Object(b.a)({},e.joke),{},{isFetching:!1,data:null})});default:case void 0:return e}};h.key="joke",h.initialState={isFetching:!1,data:null};var f=t(42),p=function(e,n){var t=n.action,r=n.payload;switch(t){case"likes_load":return Object(b.a)(Object(b.a)({},e),{},{likes:Object(b.a)(Object(b.a)({},e.likes),{},{list:r||[],isFetched:!0})});case"likes_add":return Object(b.a)(Object(b.a)({},e),{},{likes:Object(b.a)(Object(b.a)({},e.likes),{},{list:[].concat(Object(f.a)(e.likes.list),[r])})});case"likes_remove":return Object(b.a)(Object(b.a)({},e),{},{likes:Object(b.a)(Object(b.a)({},e.likes),{},{list:e.likes.list.filter((function(e){return e.id!==r.id}))})});default:case void 0:return e}};p.key="likes",p.initialState={list:[],isFetched:!1};var x=function(e,n){var t=n.action,r=n.payload;switch(t){case"category_set":return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),{},{category:r})});default:case void 0:return e}};x.key="settings",x.initialState={category:""};var O=Object.keys(r),m=O.reduce((function(e,n){var t=r[n];return Object(b.a)(Object(b.a)({},e),{},Object(j.a)({},t.key,t.initialState))}),{}),k=function(e,n){return O.reduce((function(e,t){return(0,r[t])(e,n)}),e)};k.initialState=m;var y,v,w,F,_,C,S,A,E,z,J,R,I,B,D,N,L,P,T,M,q,G,H,K,Q,U,V,W,X,Y,Z,$,ee,ne,te=t(1),re=function(e){var n=e.children;return Object(te.jsx)(te.Fragment,{children:Object(te.jsx)(d.Provider,{value:Object(c.useReducer)(k,k.initialState),children:n})})},ce=t(4),ae=t(2),ie=Object(ae.b)(y||(y=Object(ce.a)(["\n  html, body {\n    margin: 0;\n    padding: 0;\n    font-family: Raleway, sans-serif;\n    font-weight: 600;\n    font-size: 12px;\n    width: 100%;\n    height: 100%;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  #root {\n    width: 100%;\n    height: 100%;\n  }\n"]))),oe={fonts:{primary:"Raleway, sans-serif"},colors:{white:"#FFFFFF",black:"#000000",brand:"#FDC600",text:{primary:"#FFFFFF",secondary:"#A6A6A6"},ui:{primary:"#000000",secondary:"#A6A6A6",background:"#202020"},support:{success:"#5AA700",error:"#CE3336",warning:"#BFBEBE",neutral:"#5E9ED6",info:"#A6A6A6"}},spacing:{unit:8,xsmall:"".concat(8,"px"),small:"".concat(16,"px"),normal:"".concat(24,"px"),large:"".concat(32,"px"),xlarge:"".concat(40,"px"),xxlarge:"".concat(48,"px")}},se=t.p+"static/media/logo.358c5268.svg",ue=t.p+"static/media/search.4ee2370c.svg",le=(ae.d.div(v||(v=Object(ce.a)(["\n  width: 40px;\n  height: 40px;\n  background: url(",");\n"])),se),ae.d.div(w||(w=Object(ce.a)(["\n  width: 16px;\n  height: 16px;\n  background: url(",");\n  background-size: cover;\n"])),ue),ae.d.header(F||(F=Object(ce.a)(["\n  width: 100%;\n  height: ",";\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"])),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.theme.colors.brand}))),de=t(8),je="cn_likes",be=function(){var e=function(){return JSON.parse(localStorage.getItem(je))},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return localStorage.setItem(je,JSON.stringify(e))};e()||n();return{read:e,like:function(t){var r=e();if(r[t.id])throw new Error("Joke already liked");n(Object(b.a)(Object(b.a)({},r),{},Object(j.a)({},t.id,Object(b.a)(Object(b.a)({},t),{},{favTime:Date.now()}))))},dislike:function(t){var r=e();if(!r[t.id])throw new Error("Joke not yet liked");delete r[t.id],n(r)}}},ge=t.p+"static/media/like.3202d8c4.svg",he=t.p+"static/media/settings.ea975a85.svg",fe=ae.d.div(_||(_=Object(ce.a)(["\n  & > a {\n    width: 100%;\n    height: 100%;\n    display: block;\n    opacity: 0;\n  }\n"]))),pe=Object(ae.d)(fe)(C||(C=Object(ce.a)(["\n  width: ",";\n  height: ",";\n  background-repeat: no-repeat;\n  background-image: url(",");\n  background-position: center center;\n"])),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.theme.spacing.xlarge}),se),xe=Object(ae.d)(fe)(S||(S=Object(ce.a)(["\n  width: ",";\n  height: ",";\n  background-repeat: no-repeat;\n  background-image: url(",");\n  background-position: center center;\n  background-size: 60%;\n  position: relative;\n\n  &:after {\n    content: '","';\n    display: ",";\n    border-radius: 100%;\n    width: ",";\n    height: ",";\n    background: ",";\n    color: ",";\n    position: absolute;\n    top: 0;\n    left: calc(100% - ("," / 2));\n    text-align: center;\n    line-height: ",";\n  }\n"])),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.theme.spacing.xlarge}),ge,(function(e){var n=e.amount;return n<=9?n:"9+"}),(function(e){return e.amount?"block":"none"}),(function(e){return e.theme.spacing.small}),(function(e){return e.theme.spacing.small}),(function(e){return e.theme.colors.ui.primary}),(function(e){return e.theme.colors.brand}),(function(e){return e.theme.spacing.small}),(function(e){return e.theme.spacing.small})),Oe=Object(ae.d)(fe)(A||(A=Object(ce.a)(["\n  width: ",";\n  height: ",";\n  background-repeat: no-repeat;\n  background-image: url(",");\n  background-position: center center;\n  background-size: 60%;\n"])),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.theme.spacing.xlarge}),he),me=ae.d.nav(E||(E=Object(ce.a)(["\n  width: 100%;\n  max-width: 200px;\n  margin: auto;\n  height: ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  ",",\n  ",",\n  "," {\n    opacity: .5;\n  }\n\n  ","\n"])),(function(e){return e.theme.spacing.xxlarge}),pe,xe,Oe,(function(e){switch(e.active){default:case"/":return Object(ae.c)(z||(z=Object(ce.a)(["\n            "," { opacity: 1; }\n          "])),pe);case"/likes":return Object(ae.c)(J||(J=Object(ce.a)(["\n            "," { opacity: 1; }\n          "])),xe);case"/settings":return Object(ae.c)(R||(R=Object(ce.a)(["\n            "," { opacity: 1; }\n          "])),Oe)}})),ke=function(){var e=Object(l.f)(),n=Object(c.useContext)(d),t=Object(de.a)(n,2),r=t[0].likes,a=t[1],i=be().read;return Object(c.useEffect)((function(){if(r.isFetched)return function(){};var e=i(),n=Object.keys(e).map((function(n){return e[n]}));a({action:"likes_load",payload:n})}),[]),Object(te.jsxs)(me,{active:e.pathname,children:[Object(te.jsx)(pe,{children:Object(te.jsx)(u.b,{to:"/"})}),Object(te.jsx)(xe,{amount:r.list.length,children:Object(te.jsx)(u.b,{to:"likes"})}),Object(te.jsx)(Oe,{children:Object(te.jsx)(u.b,{to:"settings"})})]})},ye=function(){return Object(te.jsx)(le,{children:Object(te.jsx)(ke,{})})},ve=ae.d.footer(I||(I=Object(ce.a)(["\n  width: 100%;\n  height: ",";\n  background: ",";\n  padding: ",";\n  font-size: ",";\n  text-align: center;\n"])),(function(e){return e.theme.spacing.large}),(function(e){return e.theme.colors.brand}),(function(e){return e.theme.spacing.xsmall}),(function(e){return e.theme.spacing.xsmall})),we=function(){return Object(te.jsx)(ve,{children:"No rights reserved by Denis Montone (github.com/dmontone) - free to use"})},Fe=ae.d.div(B||(B=Object(ce.a)(["\n  width: 100%;\n  height: 100%;\n  color: ",";\n  background: ",";\n"])),(function(e){return e.theme.colors.text_primary}),(function(e){return e.theme.colors.ui.background})),_e=ae.d.div(D||(D=Object(ce.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: calc(100% - "," - ",");\n  padding: ",";\n  overflow-y: scroll;\n"])),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.theme.spacing.large}),(function(e){return e.theme.spacing.xsmall})),Ce=function(e){var n=e.children;return Object(te.jsxs)(ae.a,{theme:oe,children:[Object(te.jsx)(ie,{}),Object(te.jsxs)(Fe,{children:[Object(te.jsx)(ye,{}),Object(te.jsx)(_e,{children:n}),Object(te.jsx)(we,{})]})]})},Se=t(12),Ae=t.n(Se),Ee=t(13),ze=t(26),Je=t.n(ze),Re=function(){var e=Object(Ee.a)(Ae.a.mark((function e(n){var t;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je.a.get("".concat("https://api.chucknorris.io/jokes/","random").concat(n?"?category=".concat(n):""));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(Ee.a)(Ae.a.mark((function e(){var n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je.a.get("".concat("https://api.chucknorris.io/jokes/","categories"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=ae.d.section(N||(N=Object(ce.a)(["\n  height: 100%;\n  padding: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"])),(function(e){return e.theme.spacing.xsmall})),De=ae.d.article(L||(L=Object(ce.a)(["\n  background: #FFF;\n  padding: 16px;\n  border-radius: 16px;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.spacing.xxlarge})),Ne=ae.d.div(P||(P=Object(ce.a)(["\n  font-family: ",";\n  font-size: 1.5em;\n  line-height: 1.5em;\n"])),(function(e){return e.theme.fonts.primary})),Le=function(e){var n=e.value;return Object(te.jsx)(De,{children:Object(te.jsx)(Ne,{children:n})})},Pe=ae.d.div(T||(T=Object(ce.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"]))),Te=ae.d.div(M||(M=Object(ce.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 100%;\n  background: #FFF;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n\n  ","\n\n  img {\n    max-width: 50%;\n    max-height: 50%;\n  }\n"])),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.secondary&&Object(ae.c)(q||(q=Object(ce.a)(["\n    width: ",";\n    height: ",";\n  "])),(function(e){return e.theme.spacing.large}),(function(e){return e.theme.spacing.large}))})),Me=t.p+"static/media/close.ee2dd8dd.svg",qe=function(e){var n=e.fetchJoke,t=Object(c.useContext)(d),r=Object(de.a)(t,2),a=r[0],i=a.joke,o=a.settings,s=r[1],u=be().like;return Object(te.jsxs)(Pe,{children:[Object(te.jsx)(Te,{type:"dislike",onClick:function(){return n(o.category)},children:Object(te.jsx)("img",{alt:"",src:Me})}),Object(te.jsx)(Te,{type:"like",onClick:function(){try{u(i.data),s({action:"likes_add",payload:i.data})}catch(e){console.log(e)}finally{n(o.category)}},children:Object(te.jsx)("img",{alt:"",src:ge})})]})},Ge=ae.d.div(G||(G=Object(ce.a)(["\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n\n  ","\n"])),(function(e){var n=e.theme;return Object(ae.c)(H||(H=Object(ce.a)(["\n    width: ",";\n    height: ",";\n    position: absolute;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n\n    border: \n      ","\n      ","\n      solid\n      ;\n    border-right: 0px;\n    border-bottom: 0px;\n    border-radius: 100%;\n\n    animation-name: spin;\n    animation-duration: .5s;\n    animation-iteration-count: infinite;\n  "])),n.spacing.xxlarge,n.spacing.xxlarge,parseInt(n.spacing.xxlarge)/2,parseInt(n.spacing.xxlarge)/2,n.spacing.xxsmall,n.colors.brand)})),He=function(){return Object(te.jsx)(Ge,{})},Ke=function(){var e=Object(c.useContext)(d),n=Object(de.a)(e,2),t=n[0],r=t.joke,a=t.settings,i=n[1],o=function(){var e=Object(Ee.a)(Ae.a.mark((function e(n){var t;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({action:"joke_get"}),e.next=3,Re(n);case 3:t=e.sent,i({action:"joke_set",payload:t});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return o(a.category),function(){return i("joke_clear")}}),[]),Object(te.jsxs)(Be,{children:[r.isFetching&&Object(te.jsx)(He,{}),!r.isFetching&&r.data&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(Le,Object(b.a)({},r.data)),Object(te.jsx)(qe,{fetchJoke:o})]})]})},Qe=t(41),Ue=ae.d.section(K||(K=Object(ce.a)(["\n  background: #FFF;\n  padding: 16px;\n  border-radius: 16px;\n  margin-bottom: ",";\n\n  ","\n"])),(function(e){return e.theme.spacing.small}),(function(e){return e.isOpen&&Object(ae.c)(Q||(Q=Object(ce.a)(["\n    "," {\n      overflow: visible;\n      white-space: normal;\n      margin-bottom: ",";\n    }\n\n    "," {\n      display: block;\n    }\n  "])),Ve,(function(e){return e.theme.spacing.xsmall}),We)})),Ve=ae.d.article(U||(U=Object(ce.a)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ",";\n  line-height: ",";\n"])),(function(e){return e.theme.colors.text.decondary}),(function(e){return e.theme.spacing.normal})),We=ae.d.button(V||(V=Object(ce.a)(["\n  border: 0;\n  background: none;\n  color: ",";\n  text-transform: uppercase;\n  font-size: 10px;\n  font-weight: 900;\n  padding: 0;\n  display: none;\n"])),(function(e){return e.theme.colors.support.error})),Xe=function(e){var n=e.joke,t=e.visibility,r=e.index,a=Object(c.useContext)(d),i=Object(de.a)(a,2);Object(Qe.a)(i[0]);var o=i[1],s=be().dislike;return Object(te.jsxs)(Ue,{isOpen:t.get===r,onClick:function(){return t.set(r)},children:[Object(te.jsx)(Ve,{children:n.value}),Object(te.jsx)(We,{onClick:function(){return s(n),void o({action:"likes_remove",payload:n})},children:"unlike"})]})},Ye=ae.d.div(W||(W=Object(ce.a)([""]))),Ze=ae.d.div(X||(X=Object(ce.a)(["\n  color: ",";\n  font-family: ",";\n  font-size: ",";\n  text-transform: uppercase;\n  text-align: center;\n  width: 130px;\n  margin: auto;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.colors.ui.secondary}),(function(e){return e.theme.fonts.primary}),(function(e){return e.theme.spacing.xxsmall}),(function(e){return e.theme.spacing.small})),$e=function(){var e=Object(c.useContext)(d),n=Object(de.a)(e,1)[0].likes,t=Object(c.useState)(0),r=Object(de.a)(t,2),a=r[0],i=r[1];return Object(te.jsxs)(Ye,{children:[!n.list.length&&Object(te.jsx)(Ze,{children:"No jokes liked yet"}),!!n.list.length&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(Ze,{children:"Click any joke to read more"}),n.list.map((function(e,n){return Object(te.jsx)(Xe,{joke:e,visibility:{get:a,set:i},index:n},e.id)}))]})]})},en=ae.d.div(Y||(Y=Object(ce.a)([""]))),nn=ae.d.div(Z||(Z=Object(ce.a)(["\n  color: ",";\n  font-family: ",";\n  font-size: ",";\n  text-transform: uppercase;\n  text-align: center;\n  width: 180px;\n  margin: auto;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.colors.ui.secondary}),(function(e){return e.theme.fonts.primary}),(function(e){return e.theme.spacing.xxsmall}),(function(e){return e.theme.spacing.small})),tn=ae.d.div($||($=Object(ce.a)(["\n  width: 100%;\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));\n"]))),rn=ae.d.div(ee||(ee=Object(ce.a)(["\n  border: \n    1px\n    solid\n    ",";\n    border-radius: 2px;\n  color: ",";\n  text-transform: uppercase;\n  text-align: center;\n  font-weight: bold;\n  font-family: ",";\n  line-height: ",";\n  height: ",";\n\n  ","\n"])),(function(e){return e.theme.colors.brand}),(function(e){return e.theme.colors.brand}),(function(e){return e.theme.fonts.primary}),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.theme.spacing.xxlarge}),(function(e){return e.selected&&Object(ae.c)(ne||(ne=Object(ce.a)(["\n    background: ",";\n    color: ",";\n  "])),(function(e){return e.theme.colors.brand}),(function(e){return e.theme.colors.ui.background}))})),cn=function(){var e=Object(c.useContext)(d),n=Object(de.a)(e,2),t=n[0],r=t.categories,a=t.settings,i=n[1],o=function(){var e=Object(Ee.a)(Ae.a.mark((function e(){var n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({action:"categories_get"}),e.next=3,Ie();case 3:n=e.sent,i({action:"categories_set",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){r.isFetched||o()}),[]);return Object(te.jsxs)(en,{children:[r.isFetching&&Object(te.jsx)(He,{}),r.isFetched&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(nn,{children:"Choose jokes category, none select means random"}),Object(te.jsx)(tn,{children:r.list.map((function(e){return Object(te.jsx)(rn,{onClick:function(){return function(e){if(e===a.category)return i({action:"category_set",payload:""});i({action:"category_set",payload:e})}(e)},selected:a.category===e,children:e},e)}))})]})]})},an=function(){return Object(te.jsx)(re,{children:Object(te.jsx)(u.a,{children:Object(te.jsx)(l.c,{children:Object(te.jsxs)(Ce,{children:[Object(te.jsx)(l.a,{path:"/",exact:!0,component:Ke}),Object(te.jsx)(l.a,{path:"/likes",exact:!0,component:$e}),Object(te.jsx)(l.a,{path:"/settings",exact:!0,component:cn})]})})})})};o.a.render(Object(te.jsx)(a.a.StrictMode,{children:Object(te.jsx)(an,{})}),document.getElementById("root")),s()}},[[71,1,2]]]);
//# sourceMappingURL=main.d2a71ac9.chunk.js.map